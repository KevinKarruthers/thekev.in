{% extends "layout.html" %}

{% block title %}Stats{% endblock %}

{% block head %}
    {{ super() }}
{% endblock %}

{% block body %}
    {{ super() }}

    <div class='container-fluid' id='content'>
        <div class='col-lg-12 col-md-12 col-sm-12 col-xs-12'>
            <h2>Personal Stats</h2>
        </div>

        <div class='col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center' id='calorie-chart'></div>

        <div class='col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center' id='coffee-chart'></div>

        <div class='col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center' id='drinks-chart'></div>
    </div>
{% endblock %}

{% block js %}
<script src='https://cdnjs.cloudflare.com/ajax/libs/d3/4.9.1/d3.min.js'></script>
<script src='/js/stats.js'></script>
<script>
var dates = {{ dates|safe }};
var calories = {{ calories }};
var coffees = {{ coffees }};
var drinks = {{ drinks }};

window.onload = function() {
    drawCalorieChart(dates, calories, d3.select("#calorie-chart"));
    drawCoffeeChart(dates, coffees, d3.select("#coffee-chart"));
    drawDrinksChart(dates, drinks, d3.select("#drinks-chart"));
}
</script>
{% endblock %}
